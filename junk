import React, { useState } from "react";
import { FaPlus, FaMinus, FaArrowUp, FaArrowDown } from "react-icons/fa"; // Importing icons

const DynamicInputBoxes = () => {
  const [inputFields, setInputFields] = useState([""]);

  // Function to add an input box below the current one
  const addInputFieldBelow = (index) => {
    const fields = [...inputFields];
    fields.splice(index + 1, 0, ""); // Insert a new empty string below the current index
    setInputFields(fields);
  };

  // Function to add an input box above the current one
  const addInputFieldAbove = (index) => {
    const fields = [...inputFields];
    fields.splice(index, 0, ""); // Insert a new empty string above the current index
    setInputFields(fields);
  };

  // Function to remove an input box
  const removeInputField = (index) => {
    const fields = [...inputFields];
    fields.splice(index, 1); // Remove the input box at the specified index
    setInputFields(fields);
  };

  // Function to handle changes in the input box value
  const handleInputChange = (index, event) => {
    const fields = [...inputFields];
    fields[index] = event.target.value; // Update the input value at the specified index
    setInputFields(fields);
  };

  return (
    <div>
      {inputFields.map((input, index) => (
        <div key={index} style={{ marginBottom: "10px", display: "flex", alignItems: "center" }}>
          <input
            type="text"
            value={input}
            onChange={(event) => handleInputChange(index, event)}
            placeholder={`Input box ${index + 1}`}
            style={{ marginRight: "10px" }}
          />
          <FaArrowUp
            onClick={() => addInputFieldAbove(index)}
            style={{ cursor: "pointer", marginRight: "10px" }}
            title="Add Above"
          />
          <FaArrowDown
            onClick={() => addInputFieldBelow(index)}
            style={{ cursor: "pointer", marginRight: "10px" }}
            title="Add Below"
          />
          <FaMinus
            onClick={() => removeInputField(index)}
            style={{
              cursor: "pointer",
              marginRight: "10px",
              color: inputFields.length === 1 ? "grey" : "red",
            }}
            title="Remove"
            disabled={inputFields.length === 1} // Disable remove if only one input box
          />
        </div>
      ))}
      <div style={{ display: "flex", alignItems: "center" }}>
        <FaPlus
          onClick={() => setInputFields([...inputFields, ""])}
          style={{ cursor: "pointer", color: "green", fontSize: "1.5em" }}
          title="Add New Input Box"
        />
      </div>
    </div>
  );
};

export default DynamicInputBoxes;
